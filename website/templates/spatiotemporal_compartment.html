{% extends "spatiotemporal_results.html" %}

{% block matrix %}
	{% if signals %}
		<table class="matrix">
			{% include "matrix_xaxis_timepoints.html" %}
		
			{% regroup signals by protein_id as proteins_signals %}
			
			{% for protein_signals in proteins_signals %}
				<tr>
					{% with protein_signals.list.0.protein as protein %}
						<th class="left-column y-axis-spatiotemporal-result row-header" colspan="2">
							<a href="{{ protein.get_absolute_url }}">{{ protein.common_name|upper }}</a>
						</th>
						<th class="y-axis-spatiotemporal-result row-header">{{ protein.sequence }}</th>
					{% endwith %}
					
					{% for signal in protein_signals.list %}
						<td class="signal
							strength{{ signal.strength }}
							{% if forloop.counter == 8 or forloop.counter == 14 %}
								bold-right
							{% endif %}
						"></td>
					{% endfor %}
				</tr>
			{% endfor %}
		</table>
	{% endif %}
{% endblock matrix %}
