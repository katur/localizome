{% extends "base.html"%}
{% load website_extras %}

{% block content %}
	{% block prematrix %}{% endblock %}

	<div id="matrix-key-wrapper">
	
		{% block matrix %}
			{% for video_id, matrix in matrices %}
				{% if video_id == "spaciotemporal" %}
					<table class="matrix">
				{% elif video_id == "merge" %}
					<table class="matrix" data-matrix="merge">
				{% else %}
					<table class="matrix" data-matrix="{{ video_id }}">
				{% endif %}
					<tr>
						<th id="defines-compartment-headers-width" class="no_bottom_border no_right_border no_background" colspan="2"></th>
						<th id="defines-compartment-width" class="no_bottom_border no_background"></th>
						<th class="axis_title top_row" colspan="20">Time</th>
					</tr>
					<tr>
						<th class="no_bottom_border no_background" colspan="3"></th>
						<th class="axis_subtitle" colspan="8">1-Cell</th>
						<th class="axis_subtitle" colspan="6">AB</th>
						<th class="axis_subtitle" colspan="6">P1</th>
					</tr>
					<tr>
						<th colspan="3" class="no_background"></th>
						{% for timepoint in timepoints %}
							<th class="timepoint" data-hover-tag="{{ timepoint.name }}">
								{{ timepoint.short_name }}
							</th>
						{% endfor %}
					</tr>
					{% for row in matrix %}
						<tr>
							{% ifequal forloop.counter 1 %}
								<th class="axis_title left_column" rowspan="22">
									<div class="rotate rotate_title">Sub-Cellular Compartment</div>
								</th>
								<th class="axis_subtitle" rowspan="4">
									<div class="rotate rotate_peri">Periphery/<br>Membrane</div>
								</th>
							{% endifequal %}
						
							{% ifequal forloop.counter 5 %}
								<th class="axis_subtitle" rowspan="13">
									<div class="rotate rotate_cyto">Cytoplasmic</div>
								</th>
							{% endifequal %}
						
							{% ifequal forloop.counter 18 %}
								<th class="axis_subtitle" rowspan="5">
									<div class="rotate rotate_nucl">Nuclear</div>
								</th>
							{% endifequal %}
					
							<th class="compartment" data-hover-tag="{{ compartment_dictionary|get_item:forloop.counter }}">
								{{ compartment_dictionary_short|get_item:forloop.counter }}
							</th>
							
							{% for signal in row %}
							<td 
								{% ifequal video_id "spaciotemporal" %}
									{% if signal >= 1 and signal <= 5 %}
										class="color1"
									{% elif signal >= 6 and signal <= 10 %}
										class="color2"
									{% elif signal >= 11 and signal <= 15 %}
										class="color3"
									{% elif signal >= 16 and signal <= 20 %}
										class="color4"
									{% elif signal >= 21 and signal <= 30 %}
										class="color5"
									{% elif signal >= 31 and signal <= 40 %}
										class="color6"
									{% elif signal >= 41 and signal <= 50 %}
										class="color7"
									{% elif signal >= 51 and signal <= 60 %}
										class="color8"
									{% elif signal >= 61 and signal <= 70 %}
										class="color9"
									{% endif %}
								{% else %}
									class="strength{{ signal.strength }}"
								{% endifequal %}
							>
							</td>
							{% endfor %}
						</tr>
					{% endfor %}
				</table>
			{% endfor %}
		{% endblock %}


		<div id="next-to-matrix" class="increase-line-height">
			{% block next_to_matrix %}{% endblock %}
		</div>


		<div id="below-matrix" class="increase-line-height">
			{% block below_matrix %}{% endblock %}
		</div>

	</div> <!-- end matrix/key wrapper -->
	
	{% block postmatrix %}{% endblock %}
	
{% endblock %} <!-- end content -->
