{% extends "spatiotemporal_results.html" %}

{% block matrix %}
	{% if signals %}
		<table class="matrix">
			{% include "matrix_xaxis_compartments.html" %}
		
			{% regroup signals by protein_id as proteins_signals %}
			
			{% for protein_signals in proteins_signals %}
				<tr>
					{% with protein_signals.list.0.protein as protein %}
						<th class="left-column y-axis-spatiotemporal-result row-header" colspan="2">
							<a href="{% url website.views.protein_detail common_name=protein.common_name %}">
								{{ protein.common_name|upper }}
							</a>
						</th>
						<th class="y-axis-spatiotemporal-result row-header">
							{{ protein.sequence }}
						</th>
					{% endwith %}
					
					{% for signal in protein_signals.list %}
						<td class="signal 
							strength{{ signal.strength }}
							{% if forloop.counter == 4 or forloop.counter == 15 %}
								bold-right
							{% endif %}
						"></td>
					{% endfor %}
				</tr>
			{% endfor %}
		</table>
	{% endif %}
{% endblock matrix %}
