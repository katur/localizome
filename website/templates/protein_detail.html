{% extends "matrix_full.html" %}

{% block prematrix %}
	
<!-- PROTEIN TITLE BAR -->
	<div id="protein-title-bar" class="increase-line-height">
		<h3>{{ protein.common_name|upper }}</h3>
		<div id="protein-subtitle">
			{% if protein.sequence != protein.common_name %}
				Sequence: {{ protein.sequence }}
				<br>
			{% endif %}
			
			{% if protein.wormbase_id %}
				<a href="http://www.wormbase.org/species/c_elegans/gene/{{ protein.wormbase_id }}" target="_blank">
					{{ protein.wormbase_id}}
				</a>
			{% endif %}
		</div>
	
		<ul class="video-nav">
			{% for video in videos %}
				<li>
					<a href="#" data-matrix-link="{{ video.id }}">movie {{ video.movie_number }}</a>	
				</li>
			{% endfor %}
			
			{% if matrices|last|first == 'merge' %} {# "merge" would be the first element in the last matrix appended to the list #}
				<li>
					<a href="#" data-matrix-link="merge">merge (matrix only)</a>
				</li>
			{% endif %}	
		</ul>
	</div>
	
	
	<!-- VIDEO -->
	<div class="video-wrapper">	
		<!-- surrounding element with class - needed!! -->
		<div class="leanback-player-video">
			<video width="458" height="312" preload="metadata" controls poster="images/favicon.ico">
				<!--<source src="{{ STATIC_URL }}videos/video_name.webm" type='video/webm; codecs="vp8, vorbis"'/>-->
				<source src="{{ STATIC_URL }}videos/nathalie.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'/>
				<!--<source src="{{ STATIC_URL }}videos/video_name.ogv" type='video/ogg; codecs="theora, vorbis"'/>-->
				
				<!-- Flash-Fallback -->
				<object class="leanback-player-flash-fallback" width="360" height="240">
				</object>
																			 
				<!-- HTML-Fallback - Download Links -->
				<div class="leanback-player-html-fallback">
					<img src="./folder/poster.jpg" width="360" height="240" alt="Poster Image" 
						title="No HTML5 media playback capabilities available." />
					<div>
						<strong>Download Video:</strong>
						<a href="videos/nathalie.mp4">.mp4</a>,
						<a href="videos/nathalie.webm">.webm</a>,
						<a href="videos/nathalie.ogv">.ogv</a>
					</div>
				</div>
			</video>
		</div>
		
		<!-- Video meta data -->
		<div id="video-info-wrapper">
			{% for video in videos %}
				<div class="video-info" data-matrix-info="{{ video.id }}">
					<div class="video-info-left">
						Lens: {{ video.lens }}
						<br>
						Mode: {{ video.mode }}
					</div>
					<div class="video-info-right">
						Filmed {{ video.date_filmed }}
						<br>
						<a class="video-download" href={{ STATIC_URL }}videos/{{ video.filename }}>Download</a>
					</div>
				</div>
			{% endfor %}
		</div>		
	</div>

	<!-- Info next to video -->
	<div id="next-to-video" class="increase-line-height-a-lot">
		{% for video in videos %}
			<ul data-matrix-info="{{ video.id }}">
				<li>
					Strain: {{ video.strain_name }}
				</li>
				{% if video.vector %}
					<li>Vector: {{ video.vector }}</li>
				{% endif %}			
				<li>
					<h4>Summary</h4>
					{{ video.summary }}
				</li>
			</ul>
		{% endfor %}
	</div>
	
	
	
{% endblock prematrix %}


{% block next_to_matrix %}
	<div id="next-to-matrix">
		{% include "matrix_key_normal.html" %}

		{% for video in videos %}
			<ul class="below-key full-width increase-line-height-a-lot" data-matrix-info="{{ video.id }}">
				<li>Scored {{ video.date_scored }}</li>
				<li>Excel sheet: {{ video.excel_id }}</li>	
			</ul>			
		{% endfor %}
	</div>
{% endblock next_to_matrix %}


{% block below_matrix %}
{% endblock below_matrix %}
